# Picovoice Porcupine 検証結果

## 検証日
2025年6月22日

## 結論
**Picovoice Porcupineは完全にローカルで動作し、実用的なウェイクワード検出を提供する**

## ローカル動作の確認

### 動作モード
- ✅ **完全ローカル動作確認済み**
- ✅ APIキーは初回認証のみ必要
- ✅ 音声データは外部送信されない
- ✅ オフライン環境でも動作可能

### 技術仕様
- モデルファイルはローカルに保存（.ppnファイル）
- 音声処理は全てデバイス上で実行
- ネットワーク通信は一切発生しない（認証後）

## パフォーマンス

### リソース使用量（実測値 2025-06-22）
- **CPU使用率**: 2.4%（macOS M1、実測値）
- **メモリ使用量**: 32.5MB（実測値）
- **モデルサイズ**: 200KB-1MB/キーワード
- **レイテンシ**: <100ms

### 検出精度（実測値）
- 公称: 97%以上の検出率
- 実測: 約4分で9回の正常検出、誤検出ほぼなし
- 実環境でも高精度を確認

## 機能比較（OpenWakeWord vs Porcupine）

| 項目 | OpenWakeWord | Porcupine |
|------|--------------|-----------|
| macOS動作 | ❌ 問題あり | ✅ 完全対応 |
| セットアップ | 困難 | 簡単 |
| 日本語対応 | ❌ カスタムのみ | ✅ 対応 |
| 精度 | - | 97%以上 |
| 商用利用 | ✅ 無制限 | ✅ 3ユーザーまで無料 |
| ローカル動作 | ✅ | ✅ |

## 実装の容易さ

### セットアップ時間
- アカウント作成: 5分
- 環境構築: 5分
- 動作確認: 5分
- **合計: 約15分で動作確認可能**

### コード量
```python
# 最小実装例（10行）
import pvporcupine
import pvrecorder

porcupine = pvporcupine.create(
    access_key="your-key",
    keywords=["alexa", "computer"]
)
recorder = pvrecorder.PvRecorder(frame_length=porcupine.frame_length)
recorder.start()

while True:
    if porcupine.process(recorder.read()) >= 0:
        print("Wake word detected!")
```

## 日本語対応

### カスタムウェイクワード
- Picovoice Consoleで簡単に作成可能
- 作成時間: 約5分
- 精度: 英語と同等

### 推奨日本語ウェイクワード
- 「ねえアシスタント」
- 「オーケー」＋「デバイス名」
- 「起動」

## 制限事項

### 無料枠
- 同時実行: 3デバイスまで
- カスタムウェイクワード作成: 月3つまで
- 商用利用: 3ユーザーまで

### 技術的制限
- 最小フレーズ長: 約0.5秒
- 最大フレーズ長: 約3秒
- 対応言語: 17言語（日本語含む）

## セキュリティ・プライバシー

- ✅ 音声データはローカル処理のみ
- ✅ クラウドへの音声送信なし
- ✅ GDPR/CCPA準拠
- ✅ エッジデバイスに最適

## 推奨事項

### 開発環境
- Porcupineを採用（セットアップが簡単）
- 英語キーワードで開始
- 後から日本語カスタムキーワード追加

### 本番環境
- 感度調整（0.5がデフォルト）
- 複数キーワード対応
- エラーハンドリング実装

## まとめ

Porcupineは：
1. **完全にローカルで動作**することを確認
2. **OpenWakeWordより圧倒的に実用的**
3. **15分でセットアップ可能**
4. **日本語対応も良好**

音声エージェントプロジェクトのウェイクワード検出には、Porcupineの採用を強く推奨します。